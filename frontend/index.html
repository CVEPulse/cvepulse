<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CVEPulse — Top Trending CVEs Today</title>
  <meta name="description" content="Live, ranked list of the most talked-about CVEs across NVD and security news/social sources.">
  <link rel="icon" href="favicon.ico" />
  <link rel="preconnect" href="https://cvepulse.onrender.com" />
  <link rel="stylesheet" href="style.css?v=3">
</head>
<body>
  <header class="site-header">
    <a class="brand" href="/">
      <span class="pulse-dot"></span>
      <span class="brand-word">CVE</span><span class="brand-word brand-accent">Pulse</span>
    </a>
    <h1 class="page-title">Top Trending CVEs Today</h1>
  </header>

  <main class="container">
    <section class="grid">
      <article class="card col-2">
        <div class="card-head">
          <h2 class="card-title">CVE Summary</h2>
          <span class="meta">Auto-refreshes every 15 min</span>
        </div>
        <div id="summary" class="summary">
          <div class="summary-row">
            <span>Total CVEs:</span><strong id="total">–</strong>
          </div>
          <div class="summary-row chips">
            <span>Severity split:</span>
            <span id="sev-critical" class="chip sev-critical">Critical: 0</span>
            <span id="sev-high"     class="chip sev-high">High: 0</span>
            <span id="sev-medium"   class="chip sev-medium">Medium: 0</span>
            <span id="sev-low"      class="chip sev-low">Low: 0</span>
          </div>
          <div class="summary-row small">
            Last updated: <span id="lastUpdated">—</span> (UTC, window ~7 days)
          </div>
        </div>
      </article>

      <aside class="card col-1">
        <div class="card-head">
          <h2 class="card-title">About</h2>
        </div>
        <p class="about">
          Live, ranked list of the most talked-about CVEs across NVD and multiple security news sources.
          Use the <strong>Sort by</strong> control to switch between newest-published and highest-CVSS views.
          Each entry shows CVE ID, CVSS score, where it’s being discussed, and original publish/post date.
        </p>
      </aside>
    </section>

    <section class="card">
      <div class="table-head">
        <h2 class="card-title">Trending CVEs</h2>
        <div class="controls">
          <label for="sort">Sort by:</label>
          <select id="sort">
            <option value="published_desc">Published (Newest → Oldest)</option>
            <option value="published_asc">Published (Oldest → Newest)</option>
            <option value="cvss_desc">CVSS (High → Low)</option>
            <option value="cvss_asc">CVSS (Low → High)</option>
            <option value="trend_desc">Trending score (High → Low)</option>
          </select>
        </div>
      </div>

      <div class="table-wrap">
        <table class="table" id="cveTable">
          <thead>
            <tr>
              <th class="col-cve">CVE (CVSS)</th>
              <th class="col-desc">Description</th>
              <th class="col-src">Sources</th>
              <th class="col-date">Published / Posted</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <tr id="emptyRow" class="empty-row"><td colspan="4">No trending CVEs yet. If you just deployed or cleared cache, run your <code>/admin/refresh?token=…</code> once, then reload.</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="site-foot">© 2025 CVEPulse — CVE awareness dashboard</footer>
  <script defer src="script.js?v=3"></script>
</body>
</html>
